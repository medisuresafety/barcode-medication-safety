<!DOCTYPE html>
<html lang="en">
<head>
    <title>Start Scanner - MediSure</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>MediSure</h1>
        <p>Makakasiguradong gamot ay laging tama â€” A Barcode Based Solution for Medication Safety</p>
    </header>

    <h2>Start Scanner</h2>
    <img src="https://undraw.co/api/illustrations/security-on" alt="Scanner Illustration" class="illustration">

    <button onclick="startScanner()">Start Scanner</button>
    <div id="scanner-container" style="width: 100%; max-width: 400px; margin: auto;"></div>
    <div class="result" id="result"></div>

    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="medications.html">Medication Database</a></li>
            <li><a href="comparison.html">Comparison Section</a></li>
        </ul>
    </nav>

    <footer>
        <p>&copy; 2025 MediSure. All rights reserved.</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/quagga/0.12.1/quagga.min.js"></script>
    <script>
    function startScanner() {
        document.getElementById('result').innerText = "Scanning...";
        Quagga.init({
            inputStream: {
                name: "Live",
                type: "LiveStream",
                target: document.querySelector('#scanner-container'),
                constraints: {
                    facingMode: "environment" // Use back camera
                }
            },
            decoder: {
                readers: ["code_128_reader", "ean_reader"]
            }
        }, function(err) {
            if (err) {
                console.error(err);
                document.getElementById('result').innerText = "Error starting scanner.";
                return;
            }
                
            <script src="medication.js"></script>
            Quagga.start();
        });

        Quagga.onDetected(function(data) {
    const code = data.codeResult.code;
    document.getElementById('result').innerText = `Scanned code: ${code}`;
    Quagga.stop();

    if (medications[code]) {
        const med = medications[code];
        const medInfo = `
            <h3>${med.name}</h3>
            <p><strong>Use:</strong> ${med.use}</p>
            <p><strong>Dose:</strong> ${med.dose}</p>
            <p><strong>Route:</strong> ${med.route}</p>
            <p><strong>Notes:</strong> ${med.notes}</p>
        `;
        document.getElementById('result').innerHTML = medInfo;
    } else {
        document.getElementById('result').innerText = "Medication not found.";
    }
});

    }
    </script>
</body>
</html>
